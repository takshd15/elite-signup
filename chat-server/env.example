# Environment Configuration for Private Messaging Server
# Copy this file to .env and update with your actual values

# Server Configuration
NODE_ENV=production
PORT=3001

# Performance Configuration
MAX_CONNECTIONS=100000  # Increase from 50k to 100k (2x improvement)
MAX_CONNECTIONS_PER_IP=2000  # Increase from 1k to 2k (2x improvement)

# Database Configuration (AWS RDS)
DB_HOST=cd6emofiekhlj.cluster-czz5s0kz4scl.eu-west-1.rds.amazonaws.com
DB_PORT=5432
DB_NAME=d4ukv7mqkkc9i1
DB_USER=u2eb6vlhflq6bt
DB_PASS=pe9512a0cbf2bc2eee176022c82836beedc48733196d06484e5dc69e2754f5a79

# Security Configuration
JWT_SECRET=12341234123412341234123412341234123412341234
CHAT_ENCRYPTION_KEY=super-secure-aes-encryption-key-32

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # max requests per window
MESSAGE_RATE_LIMIT=30        # messages per minute per user

# Connection Limits
MAX_CONNECTIONS_PER_IP=2000  # Ultra enterprise-grade: allows massive user bases
CONNECTION_TIMEOUT=30000     # 30 seconds

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=chat-server.log

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
HEALTH_CHECK_TIMEOUT=5000    # 5 seconds

# Performance Configuration
MAX_PAYLOAD_SIZE=1048576     # 1MB
KEEP_ALIVE_TIMEOUT=60000     # 60 seconds
MAX_CONNECTIONS=10000

# Database Performance Optimization
DB_MAX_CONNECTIONS=500       # Increased from 200 to 500
DB_MIN_CONNECTIONS=50        # Increased from 10 to 50
DB_IDLE_TIMEOUT=10000        # Reduced from 30000 to 10000
DB_CONNECTION_TIMEOUT=1000   # Reduced from 2000 to 1000
DB_STATEMENT_TIMEOUT=10000   # Reduced from 30000 to 10000

# Redis Configuration
# For development: Comment out REDIS_URL to use Redis Mock (faster)
# REDIS_URL=redis://localhost:6379  # Local Redis (for development)
# For production: Heroku automatically sets REDIS_URL from Redis addon
# REDIS_URL=redis://your-heroku-redis-url  # Heroku Redis (for production)